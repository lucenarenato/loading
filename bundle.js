!function(e){var t={};function i(s){if(t[s])return t[s].exports;var r=t[s]={i:s,l:!1,exports:{}};return e[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(s,r,function(t){return e[t]}.bind(null,r));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);class s{static getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}static getParameterByName(e,t){void 0===t&&(t=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");let i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===i?t:decodeURIComponent(i[1].replace(/\+/g," "))}static addScript(e){let t=document.createElement("script");t.setAttribute("src",e),document.body.appendChild(t)}static addSmartLook(e){setTimeout(function(){smartlook("init",e)},500)}static setCookie(e,t,i,s){if(void 0===s){let e=(s=window.location.hostname).split(".");e.shift(),s=e.join(".")}let r="";if(i){let e=new Date;e.setTime(e.getTime()+24*i*60*60*1e3),r="; expires="+e.toUTCString()}document.cookie=e+"="+t+r+"; path=/; domain=."+s}static getCookie(e){let t=e+"=",i=document.cookie.split(";");for(let e=0;e<i.length;e++){let s=i[e];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return null}static insertParam(e,t){e=encodeURI(e),t=encodeURI(t);let i,s=document.location.search.substr(1).split("&"),r=s.length;for(;r--;)if((i=s[r].split("="))[0]==e){i[1]=t,s[r]=i.join("=");break}r<0&&(s[s.length]=[e,t].join("=")),document.location.search=s.join("&")}static writeCookies(e,t,i,r,n,o,a){if(!e||!t)throw new Error("no cookies - "+location.href);{let l=o=o||t.extFullDomain,c=o.split(".");if(3===c.length&&(l=`${c[1]}.${c[2]}`),n=n||180,"ifr"!==(a=a||"ifr")&&"img"!==a&&(a="ifr"),l===window.location.hostname){if(s.setCookie("cid",e.fullCidWithTime,n),s.setCookie("clickid",e.clickid,n),s.setCookie("vert",t.vertical,n),s.setCookie("yid",t.yid,n),i.flow.isInPage)s.setCookie("npage","",0);else{let e=`${window.location.origin}/wim/tnk.php`;r.dkw.length>0&&!/\d/.test(r.dkw)&&(e=`https://www.google.com/search?btnI=745&q=${r.dkw.split(".")[0]}`),s.setCookie("npage",e,n)}s.setCookie("iw_ext","1",n)}else if("img"===a){let i=`<img height='1' width='1' src='${`//${o}/wim/static/wi/install.php?cd=1&cid=${e.fullCidWithTime}&yid=${t.yid}&clickid=${e.clickid}&vert=${t.vertical}&days=${n}`}'/>`,s=(new DOMParser).parseFromString(i,"text/html");document.body.append(s.body.firstChild)}else{let s=`//${o}/wim/static/wi/install.html?cd=1&cid=${e.fullCidWithTime}&yid=${t.yid}&clickid=${e.clickid}&vert=${t.vertical}&days=${n}`;"string"==typeof r.dkw&&r.dkw.length>0?s+=`&dkw=${r.dkw}&bnp=1`:i.flow.isInPage&&(s+="&bnp=1");let a=document.querySelector("body"),l=document.createElement("IFRAME");l.style.height="0px",l.style.width="0px",l.style.display="none",l.setAttribute("src",s),l.setAttribute("display","none"),a.appendChild(l)}}}static getQueryParameters(e){return(e||document.location.search).replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0]}static error(e){console.log("error: "+e),window.location.replace(`${window.location.origin}/error.html?err=${e}`)}}class r{constructor(e,t){if(void 0===e)throw new Error("Funnel: undefined urlObject in constructor");"boolean"!=typeof t&&(t=!1),this.validateLP=this.validateLP.bind(this),this.checkTagForTest=this.checkTagForTest.bind(this),this._gnum=e.gnum||"0",o.supportedGnums.includes(this._gnum)&&(this._gnum="0"),this._tags=e.ctag?e.ctag.split("_"):[],this._clickid=e.clickid||null,this._cid=e.cid||null,this._vn=e.vn||null,this._v=e.v||null,this.validateLP(),this._ignoreTests=t&&!!e.ign&&"ind"===e.ign,this._test=null,this._tags.forEach((e,t)=>{this.checkTagForTest(e,t)})}validateLP(){this._lp=this._v||n.defaults[this.vertical],this._vn&&(this._lp+=`.${this._vn}`),n[this.vertical].includes(this._lp)||(this._lp=n.defaults[this.vertical])}addTag(e){this._tags.push(e),this.checkTagForTest(e)}checkTagForTest(e,t){if("number"!=typeof t&&(t=this._tags.indexOf(e)),this._ignoreTests)-1!==t&&this._tags.splice(t,1);else if(e.startsWith("tid")){let t=null;for(let i=3;i<e.length;i++)if(!isNaN(parseInt(e.charAt(i)))){t=parseInt(e.substring(i,i+3));break}isNaN(t)||(this._test={id:t,group:e})}}get vertical(){return o[this._gnum]}get gnum(){return this._gnum}set gnum(e){e=isNaN(parseInt(e||0))?0:parseInt(e||0),o.supportedGnums.includes(e)||(e=0),this._gnum=e}get clickid(){return this._clickid}get cid(){return this._cid}get ctag(){return this._tags.join("_")}get fullCid(){let e=Array.from(this._tags);return e.unshift(this._cid),e.push("lp"+this.lp),e.join("_").replace(/__/g,"_")}get fullCidWithTime(){let e=Array.from(this._tags);return e.unshift(this._cid),e.push("lp"+this.lp),e.push(`wit${Math.round(new Date/1e3)}`),e.join("_").replace(/__/g,"_")}get lp(){return this._lp}set lp(e){if("string"==typeof e){let t=e.split(".");this._v=t[0],t.shift(),this._vn=t.join("."),this.validateLP()}}get test(){return this._test||null}set test(e){"object"==typeof e&&e.id&&e.group&&(this._test=e,this._tags.include(e.group)||this._tags.push(e.group))}static get Gnums(){return o}static Lps(){return n}}const n={music:["0","0.1","6","6.1","7","7.fr","13","13.fr","54","55","56","57","58.1","58.2","59","60"],movies:["6","7","13","14","34","34.0","34.1","34.2","34.2.1","34.13","34.13.1","54","55","56","57","61"],games:["6","7","13","54","55","57","57.0","58","59","60","61"],privateSearch:["5","20","23","23.1","28"],tvsport:["7","13","35","35.1","53","53.0","53.n","53.1","53.1.n","53.2","53.3","53.4","53.5","53.6","53.7","53.8","53.9"],defaults:{music:"7",movies:"34",games:"13",privateSearch:"28",tvsport:"35"}},o={0:"music",1:"movies",2:"photos",3:"mediaDownloader",4:"games",5:"sport",6:"privateSearch",7:"dating",8:"tv",9:"cooking",10:"tvsport",11:"mediaDownloader",12:"bestPrice",MUSIC:"music",MOVIES:"movies",PHOTOS:"photos",MEDIA:"mediaDownloader",GAMES:"games",SPORT:"sport",PRIVATE:"privateSearch",DATING:"dating",TV:"tv",COOKING:"cooking",TVSPORT:"tvsport",BESTPRICE:"bestPrice",SAFE:"safe",supportedGnums:[0,1,4,6,10]};class a{constructor(e,t){if(void 0===e||void 0===t)throw new Error("Components: missing params in constructor");this._lpFolder=t,t===r.Gnums.PRIVATE&&(this._lpFolder=r.Gnums.SAFE),this._translation=null,"Chrome"===e?(this._flow=l.WIZARD_V3,this._exitFolder="0",this._retry=c.LOBIBOX,this._stepsSpinnerFolder="1",this._stepsBarFolder=d.TOP_BAR,this._infoFolder=u.BOTTOM_LEFT,this._tyFolder="0",this._buttonEffectFolder=p.NONE):"Firefox"===e&&(this._flow=l.FF_V1,this._exitFolder="0",this._retry=c.LOBIBOX,this._stepsSpinnerFolder="0",this._stepsBarFolder=d.NONE,this._infoFolder=u.BOTTOM_LEFT,this._tyFolder="0",this._buttonEffectFolder=p.NONE)}static addComponent(e,t,i,s){void 0===i&&(i="body"),t.includes(".")&&("js"===t.split(".")[1]?$.getScript(`${e}/${t}`,function(e){}):"html"===t.split(".")[1]&&$.get(`${e}/${t}`,function(t){s?s(t):(t=t.replace(/@PATH@/g,e),$(i).append(t))}))}get lpFolder(){return this._lpFolder}set lpFolder(e){this._lpFolder=e}get flow(){return this._flow}set flow(e){this._flow=e}get exitFolder(){return this._exitFolder}set exitFolder(e){this._exitFolder=e}get retry(){return this._retry}set retry(e){this._retry=e}get stepsSpinnerFolder(){return this._stepsSpinnerFolder}set stepsSpinnerFolder(e){this._stepsSpinnerFolder=e}get stepsBarFolder(){return this._stepsBarFolder}set stepsBarFolder(e){this._stepsBarFolder=e}get infoFolder(){return this._infoFolder}set infoFolder(e){this._infoFolder=e}get tyFolder(){return this._tyFolder}set tyFolder(e){this._tyFolder=e}get buttonEffectFolder(){return this._buttonEffectFolder}set buttonEffectFolder(e){this._buttonEffectFolder=e}get translation(){return this._translation}set translation(e){this._translation=e}static get Flows(){return l}static get Retries(){return c}static get ButtonEffect(){return p}static get StepBars(){return d}static get TyFolders(){return h}static get Infos(){return u}}const l={NONE:{isInPage:!0,folder:"0"},RIGHT_ARROW:{isInPage:!1,folder:"1"},LEFT_PANEL:{isInPage:!0,folder:"2"},TOP_PANEL_V1:{isInPage:!0,folder:"5.1"},WIZARD_V3:{isInPage:!0,folder:"6.3"},WIZARD_V3_FR:{isInPage:!0,folder:"6.3.fr"},WIZARD_V3_ES:{isInPage:!0,folder:"6.3.es"},WIZARD_V3_TRANSPARENT:{isInPage:!0,folder:"6.7"},WIZARD_V3_TRANSPARENT_SMALLER:{isInPage:!0,folder:"6.7.1"},WIZARD_V3_TRANSPARENT_SMALLER_AUDIO:{isInPage:!0,folder:"6.7.1.1"},WIZARD_V3_TV:{isInPage:!0,folder:"6.8"},WIZARD_V3_TV_3STEPS:{isInPage:!0,folder:"6.8.1"},FF_V1:{isInPage:!0,folder:"7.1"},FF_V2:{isInPage:!0,folder:"7.2"},FF_V3:{isInPage:!0,folder:"7.3"},INSTALLER_V1:{isInPage:!0,folder:"8.1"}},c={NONE:{folder:"3",gnumDependent:!1},VIDEO:{folder:"1",gnumDependent:!0},LOBIBOX:{folder:"2",gnumDependent:!1}},p={NONE:"0",GIF_ARROW:"1",HIGHLIGHT:"2",BREATHE:"3",SHAKE:"4",SHINE:"5"},d={NONE:"0",TOP_BAR:"1",TOP_BAR_FR:"1.fr",TOP_BAR_ES:"1.es",TOP_BAR_NO_STEP_1:"2",INSTALLER_HELPER_V1:"3"},h={IFRAME_CLOSER:"1",INSTALLER_V1:"2.1",POPUP_CLOSER:"3"},u={BOTTOM_RIGHT:"1",BOTTOM_LEFT:"2"};class g{constructor(e,t){if(void 0===e)throw new Error("Product: missing json item");if(void 0===t)throw new Error("Product: missing extType");this.checkIfInstalled=this.checkIfInstalled.bind(this),this._extId=e.extId||null,this._extName=e.extName||null,this._title=e.extName||null,t.includes("dm")&&(this._title="Continue..."),this._extFullDomain=e.extFullDomain||null,this._privacy=e.privacy||null,this._terms=e.terms||null,this._vertical=e.vertical||null,this._yid=e.yid||null,this._chromeStoreUrl=e.chromeStoreUrl||"",this._iconFolder=e.iconFolder||null,this._brand=e.brand||null,this._isInstalled=!1,this._extType=t,Object.values(this).forEach(e=>{if(null===e)throw new Error("Product: corrupted json")})}checkIfInstalled(){if("ffds"===this._extType||"ffnt"===this._extType)return new Promise(e=>{this._isInstalled=document.body.classList.contains(this._yid),e(this._isInstalled)});{let e=`chrome-extension://${this._extId}/${this._iconFolder}/icon16.png`;return new Promise(t=>{let i=document.createElement("img");i.setAttribute("src",e),i.setAttribute("height","1px"),i.setAttribute("width","1px"),i.setAttribute("id","extension-check"),i.addEventListener("load",()=>{this._isInstalled=!0,t(this._isInstalled)}),i.addEventListener("error",()=>{this._isInstalled=!1,t(this._isInstalled)})})}}get title(){return this._title}set title(e){this._title=e}get isInstalled(){return this._isInstalled}set isInstalled(e){this._isInstalled=e}get extId(){return this._extId}get extName(){return this._extName}get extFullDomain(){return this._extFullDomain}get privacy(){return this._privacy}get terms(){return this._terms}get vertical(){return this._vertical}get yid(){return this._yid}get chromeStoreUrl(){return this._chromeStoreUrl}get iconFolder(){return this._iconFolder}get brand(){return this._brand}get extType(){return this._extType}}const m={games:{ds:{extId:"ediiikbhkmpmccbffelhokidlcpkbiok",extName:"Games Browsing",extFullDomain:"games.getmedia.zone",privacy:"privacy.getmedia.online",terms:"eula.getmedia.online",vertical:"games",yid:"b9ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/ediiikbhkmpmccbffelhokidlcpkbiok",iconFolder:"icons",brand:"getMedia"},nt:{extId:"gpfpblkonamkagckocgpmpgbjhjmfijg",extName:"Media Start",extFullDomain:"games.getmedia.zone",privacy:"privacy.getmedia.online",terms:"eula.getmedia.online",vertical:"games",yid:"43nt",chromeStoreUrl:"https://chrome.google.com/webstore/detail/gpfpblkonamkagckocgpmpgbjhjmfijg",iconFolder:"imgs",brand:"getMedia"},cos:{extId:"mmhgkibkmjbjobpldeceddgneehmidfk",extName:"Games Web Search",extFullDomain:"games.getwebappstore1.com",privacy:"www.webappstore.net/privacy.php",terms:"www.webappstore.net/terms.php",vertical:"games",yid:"a2ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/mmhgkibkmjbjobpldeceddgneehmidfk",iconFolder:"images",brand:"WebAppStore"}},music:{ds:{extId:"lklcbakipdcoeclfpekcebgamelgindl",extName:"Music Browsing",extFullDomain:"music.getmedia.zone",privacy:"privacy.getmedia.online",terms:"eula.getmedia.online",vertical:"music",yid:"b8ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/lklcbakipdcoeclfpekcebgamelgindl",iconFolder:"icons",brand:"getMedia"},nt:{extId:"gpfpblkonamkagckocgpmpgbjhjmfijg",extName:"Media Start",extFullDomain:"music.getmedia.zone",privacy:"privacy.getmedia.online",terms:"eula.getmedia.online",vertical:"music",yid:"43nt",chromeStoreUrl:"https://chrome.google.com/webstore/detail/gpfpblkonamkagckocgpmpgbjhjmfijg",iconFolder:"imgs",brand:"getMedia"},cos:{extId:"mmhgkibkmjbjobpldeceddgneehmidfk",extName:"Music Web Search",extFullDomain:"music.getwebappstore1.com",privacy:"www.webappstore.net/privacy.php",terms:"www.webappstore.net/terms.php",vertical:"music",yid:"a2ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/mmhgkibkmjbjobpldeceddgneehmidfk",iconFolder:"images",brand:"WebAppStore"},ffds:{extId:"http://music.getsearchnow1.com/wim/ff/ff_webext/gomusic-1.0.17-fx.xpi",extName:"GoMusic",extFullDomain:"music.appscase.com",privacy:"privacy.getmedia.today",terms:"eula.getmedia.today",vertical:"music",yid:"mnff",chromeStoreUrl:null,iconFolder:"icons",brand:"GetMedia.Today"},ffnt:{extId:"http://music.getsearchnow1.com/wim/ff/ff_webext/universe_start-1.0.5-fx.xpi",extName:"Universe Start",extFullDomain:"music.theappsuniverse.com",privacy:"www.theappsuniverse.com/privacy.php",terms:"www.theappsuniverse.com/terms.php",vertical:"music",yid:"45nt",chromeStoreUrl:"https://chrome.google.com/webstore/detail/http://music.getsearchnow1.com/wim/ff/ff_webext/universe_start-1.0.5-fx.xpi",iconFolder:"icons",brand:"The Apps Universe"},altds:{extId:"jgofjiialcpbongknpjkllipmecbkcic",extName:"Mega Music Search",extFullDomain:"music.globalappz.club",privacy:"privacy.globalappz.club",terms:"eula.globalappz.club",vertical:"music",yid:"c8ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/jgofjiialcpbongknpjkllipmecbkcic",iconFolder:"icons",brand:"globalAppz"}},movies:{ds:{extId:"hifkhemmballblekkmkdopifdbhbpbbl",extName:"Mega Movies Search",extFullDomain:"movie.globalappz.club",privacy:"privacy.globalappz.club",terms:"eula.globalappz.club",vertical:"movies",yid:"c9ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/hifkhemmballblekkmkdopifdbhbpbbl",iconFolder:"icons",brand:"globalAppz"},nt:{extId:"gpfpblkonamkagckocgpmpgbjhjmfijg",extName:"Media Start",extFullDomain:"movie.getmedia.zone",privacy:"privacy.getmedia.online",terms:"eula.getmedia.online",vertical:"movies",yid:"43nt",chromeStoreUrl:"https://chrome.google.com/webstore/detail/gpfpblkonamkagckocgpmpgbjhjmfijg",iconFolder:"imgs",brand:"getMedia"},cos:{extId:"mmhgkibkmjbjobpldeceddgneehmidfk",extName:"Movies Web Search",extFullDomain:"movie.getwebappstore1.com",privacy:"www.webappstore.net/privacy.php",terms:"www.webappstore.net/terms.php",vertical:"movies",yid:"a2ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/mmhgkibkmjbjobpldeceddgneehmidfk",iconFolder:"images",brand:"WebAppStore"},ffds:{extId:"http://movie.getsearchnow1.com/wim/ff/ff_webext/gomovies-1.0.16-fx.xpi",extName:"GoMovies",extFullDomain:"movie.appscase.com",privacy:"privacy.getmedia.today",terms:"eula.getmedia.today",vertical:"movies",yid:"gmff",chromeStoreUrl:"https://addons.mozilla.org/en-US/firefox/addon/getmedia-movies/",iconFolder:"icons",brand:"GetMedia.Today"},ffnt:{extId:"http://movie.getsearchnow1.com/wim/ff/ff_webext/universe_start-1.0.5-fx.xpi",extName:"Universe Start",extFullDomain:"movie.theappsuniverse.com",privacy:"www.theappsuniverse.com/privacy.php",terms:"www.theappsuniverse.com/terms.php",vertical:"movies",yid:"45nt",chromeStoreUrl:"https://chrome.google.com/webstore/detail/http://movie.getsearchnow1.com/wim/ff/ff_webext/universe_start-1.0.5-fx.xpi",iconFolder:"icons",brand:"The Apps Universe"},altnt:{extId:"gfdknbikfmkcikpidpkgfilhhbgicppp",extName:"Flash Media Start",extFullDomain:"movie.planetappz.club",privacy:"privacy.planetappz.club",terms:"eula.planetappz.club",vertical:"movies",yid:"47nt",chromeStoreUrl:"https://chrome.google.com/webstore/detail/gfdknbikfmkcikpidpkgfilhhbgicppp",iconFolder:"imgs",brand:"PlanetAppz"},altds:{extId:"hifkhemmballblekkmkdopifdbhbpbbl",extName:"Mega Movies Search",extFullDomain:"movie.globalappz.club",privacy:"privacy.globalappz.club",terms:"eula.globalappz.club",vertical:"movies",yid:"c9ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/hifkhemmballblekkmkdopifdbhbpbbl",iconFolder:"icons",brand:"globalAppz"}},tvsport:{ds:{extId:"ialhabegcjomakbpehoednenehmonloa",extName:"sportsZone Search",extFullDomain:"tvsport.getmedia.zone",privacy:"privacy.getmedia.online",terms:"eula.getmedia.online",vertical:"tvsport",yid:"c7ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/ialhabegcjomakbpehoednenehmonloa",iconFolder:"images",brand:"getMedia"},nt:{extId:"gpfpblkonamkagckocgpmpgbjhjmfijg",extName:"Media Start",extFullDomain:"tvsport.getmedia.zone",privacy:"privacy.getmedia.online",terms:"eula.getmedia.online",vertical:"tvsport",yid:"43nt",chromeStoreUrl:"https://chrome.google.com/webstore/detail/gpfpblkonamkagckocgpmpgbjhjmfijg",iconFolder:"imgs",brand:"getMedia"},cos:{extId:"mmhgkibkmjbjobpldeceddgneehmidfk",extName:"Sports Web Search",extFullDomain:"tvsport.getwebappstore1.com",privacy:"www.webappstore.net/privacy.php",terms:"www.webappstore.net/terms.php",vertical:"tvsport",yid:"a2ds",chromeStoreUrl:"https://chrome.google.com/webstore/detail/mmhgkibkmjbjobpldeceddgneehmidfk",iconFolder:"images",brand:"WebAppStore"},ffds:{extId:"http://tvsport.getsearchnow1.com/wim/ff/ff_webext/sport_tv-1.0.19-fx.xpi",extName:"Sport TV",extFullDomain:"tvsport.appscase.com",privacy:"privacy.getmedia.today",terms:"eula.getmedia.today",vertical:"tvsport",yid:"svff",chromeStoreUrl:null,iconFolder:"icons",brand:"GetMedia.Today"},ffnt:{extId:"http://tvsport.getsearchnow1.com/wim/ff/ff_webext/universe_start-1.0.5-fx.xpi",extName:"Universe Start",extFullDomain:"tvsport.theappsuniverse.com",privacy:"www.theappsuniverse.com/privacy.php",terms:"www.theappsuniverse.com/terms.php",vertical:"tvsport",yid:"45nt",chromeStoreUrl:"https://chrome.google.com/webstore/detail/http://tvsport.getsearchnow1.com/wim/ff/ff_webext/universe_start-1.0.5-fx.xpi",iconFolder:"icons",brand:"The Apps Universe"}},privateSearch:{dm:{extId:"komdkpclammhchphjolfkihjolohjmjj",extName:"Stay Safe Online",extFullDomain:"safe.myprivacyworld.com",privacy:"privacy.myprivacyworld.com",terms:"eula.myprivacyworld.com",vertical:"privateSearch",yid:"b3pr",chromeStoreUrl:"https://chrome.google.com/webstore/detail/komdkpclammhchphjolfkihjolohjmjj",iconFolder:"images",brand:"MyPrivacyWorld"},ds:{extId:"onjfmlnknchjadkachkpenbklbgkhjgk",extName:"Safe Search",extFullDomain:"gsafe.safemedia.today",privacy:"privacy.getmedia.today/",terms:"eula.getmedia.today/",vertical:"privateSearch",yid:"87pr",chromeStoreUrl:"https://chrome.google.com/webstore/detail/onjfmlnknchjadkachkpenbklbgkhjgk",iconFolder:"icons",brand:"getmedia"},ffds:{extId:"http://safe.getsearchnow1.com/wim/ff/ff_webext/safe_browsing-1.0.19-fx.xpi",extName:"Safe Browsing",extFullDomain:"safe.appscase.com",privacy:"privacy.getmedia.today",terms:"eula.getmedia.today",vertical:"privateSearch",yid:"sbff",chromeStoreUrl:null,iconFolder:"icons",brand:"GetMedia.Today"}}};class f{constructor(e,t,i){if(void 0===e||void 0===t||void 0===i)throw new Error("Package: missing constructor params");this.build=this.build.bind(this),this._extTypes=[],"Chrome"===e&&(this._extTypes="ChromeOS"===t||"Linux"===t?["cos"]:["ds"],i!==r.Gnums.PRIVATE&&this._extTypes.push("nt")),"Firefox"===e&&(this._extTypes=["ffds"],[r.Gnums.MOVIES,r.Gnums.MUSIC,r.Gnums.TVSPORT].includes(i)&&this._extTypes.push("ffnt")),this._products=[],this._alternateDS=null,this._alternateNT=null,this._step=0}build(e,t){if(void 0===e)throw new Error("Package: vertical not specified");if("boolean"!=typeof t&&(t=!1),this.extTypes.map((i,s)=>{let r=null;try{t?0===s&&localStorage.ffp&&localStorage.ffp.length>0?(r=new g(JSON.parse(localStorage.ffp),i),localStorage.removeItem("ffp")):1===s&&localStorage.fsp&&localStorage.fsp.length>0?(r=new g(JSON.parse(localStorage.fsp),i),localStorage.removeItem("fsp")):m[e]&&m[e][i]&&(r=new g(m[e][i],i)):m[e]&&m[e][i]&&(r=new g(m[e][i],i))}catch(e){console.log(e)}r instanceof g?this.products.push(r):console.log(`Package: ${i} product not found`)}),0===this.products.length)throw new Error("Package: no products found")}get extTypes(){return this._extTypes}set extTypes(e){this._extTypes=e}get products(){return this._products}get step(){return this._step}set step(e){this._step=e}get currentProduct(){return this._step,this._products.length,this._products[this._step]}set currentProduct(e){e instanceof g&&(this._products[this._step]=e)}get alternateDS(){return this._alternateDS}set alternateDS(e){e instanceof g&&(this._alternateDS=e)}get alternateNT(){return this._alternateNT}set alternateNT(e){e instanceof g&&(this._alternateNT=e)}set forceDSFlow(e){e&&this._extTypes.length>0&&this._extTypes.push(`alt${this._extTypes[0]}`)}set forceNTFlow(e){e&&this._extTypes.length>1&&this._extTypes.push(`alt${this._extTypes[1]}`)}}class _{constructor(e,t){if(void 0===e)throw new Error("Request: undefined urlObject in constructor");"boolean"!=typeof t&&(t=!1),this._geo=e.geo||"unknown",this._browser=_.getBrowser(),this._os=_.getOS(),this._lang=_.detectLanguage("en"),this._resolution=_.getResolution(),t&&e.os&&("w"===e.os?this._os="Windows":"c"===e.os&&(this._os="Linux"))}get geo(){return this._geo}get browser(){return this._browser}get os(){return this._os}get lang(){return this._lang}get isSupported(){return"Firefox"===this._browser.browserName?this._browser.majorVersion>=53&&"undefined"!=typeof InstallTrigger:"Chrome"===this._browser.browserName&&"undefined"!=typeof chrome}get resolution(){return this._resolution}static detectLanguage(e){"string"!=typeof e&&(e="en");let t=e;return"string"==typeof window.navigator.language&&window.navigator.language.length>0&&(t=window.navigator.language.split("-")[0].toLowerCase(),w.includes(t)&&(t=e)),t}static getBrowser(){var e,t,i,s,r=navigator.userAgent,n=navigator.appName,o=""+parseFloat(navigator.appVersion);return-1!=(i=r.indexOf("Opera"))?(n="Opera",o=r.substring(i+6),-1!=(i=r.indexOf("Version"))&&(o=r.substring(i+8))):-1!=(i=r.indexOf("MSIE"))?(n="Microsoft Internet Explorer",o=r.substring(i+5)):-1!=(i=r.indexOf("Chrome"))?(n="Chrome",o=r.substring(i+7)):-1!=(i=r.indexOf("Safari"))?(n="Safari",o=r.substring(i+7),-1!=(i=r.indexOf("Version"))&&(o=r.substring(i+8))):-1!=(i=r.indexOf("Firefox"))?(n="Firefox",o=r.substring(i+8)):(t=r.lastIndexOf(" ")+1)<(i=r.lastIndexOf("/"))&&(n=r.substring(t,i),o=r.substring(i+1),n.toLowerCase()==n.toUpperCase()&&(n=navigator.appName)),-1!=(s=o.indexOf(";"))&&(o=o.substring(0,s)),-1!=(s=o.indexOf(" "))&&(o=o.substring(0,s)),e=parseInt(""+o,10),isNaN(e)&&(o=""+parseFloat(navigator.appVersion),e=parseInt(navigator.appVersion,10)),{browserName:n,fullVersion:o,majorVersion:e}}static getOS(){let e="Unknown";return-1!=navigator.userAgent.indexOf("Win")&&(e="Windows"),-1!=navigator.userAgent.indexOf("Mac")&&(e="Mac"),-1!=navigator.userAgent.indexOf("X11")&&(e="UNIX"),-1!=navigator.userAgent.indexOf("Linux")&&(e="Linux"),-1!=navigator.userAgent.indexOf("CrOS")&&(e="ChromeOS"),e}static getResolution(){return{height:window.screen.height*window.devicePixelRatio,width:window.screen.width*window.devicePixelRatio}}static RTL(){return w}}const w=["ar","he","fa","dv","ur","az"];class b{constructor(e){if(void 0===e)throw new Error("Extras: undefined urlObject in constructor");let t=e.t1||null,i=e.t2||null;this._t1=isNaN(parseInt(t))?s.getRandomInt(0,99):t,this._t2=isNaN(parseInt(i))?s.getRandomInt(0,99):i,this._aln=e.aln||null,this._dkw=e.dkw||"",/\d/.test(this._dkw)&&(this._dkw=""),this._isMonitored=1===s.getRandomInt(1,10),this._ga=e.ga||null}get t1(){return this._t1}get t2(){return this._t2}get aln(){return this._aln}get dkw(){return this._dkw}get isMonitored(){return this._isMonitored}get ga(){return this._ga}set ga(e){this._ga=e}}const v={en:{click:"Click",add_to_chrome:"ADD TO CHROME",add_extension:"Add extension",done:"Done",step:"Step",download:"Download",back:"back",tocontinue:"to continue",continue:"continue",tryagain:"try again",nothanks:"no thanks",warning:"warning",installinterrupted:"The installation was interrupted",cancel:"cancel",loading:"loading",moveonto:"move on to",second:"second",upgradeyour:"upgrade your chrome new tab to a new cool one"},fr:{click:"cliquez sur",add_to_chrome:"Ajouter à Chrome",add_extension:"Ajouter une extension",done:"terminé",step:"étape",download:"Téléchargez",back:"verso",tocontinue:"Pour Continuer",continue:"Poursuivre",tryagain:"Réessayer",nothanks:"Non merci",warning:"mise en garde",installinterrupted:"L'installation a été interrompue",cancel:"Annuler",loading:"Chargement",moveonto:"passer à",second:"deuxième",upgradeyour:"mettez à jour votre nouvel onglet Chrome avec un nouvel onglet cool"},es:{click:"Clic",add_to_chrome:"Añadir a Chrome",add_extension:"Añadir Extensión",done:"Completado",step:"Paso",download:"Descargar",back:"reverso",tocontinue:"para seguir",continue:"seguir",tryagain:"Inténtalo de nuevo",nothanks:"no, gracias",warning:"advertencia",installinterrupted:"La instalación se interrumpió",cancel:"rescindir",loading:"cargamento",moveonto:"pasar a",second:"segundo",upgradeyour:"actualiza tu nueva pestaña Chrome a una nueva y genial"}},y=["#stepsbar-container","#flows-container","#retry-container","#exit-container","#ty-container","#ty-container","#popup-1-steps-spinner"];class x{constructor(e,t,i){if(this.traverseChildNodes=this.traverseChildNodes.bind(this),Array.isArray(e)||(this._langContainers=y),"string"==typeof t&&t.length>1&&"auto"!==t?this._lang=t:"string"==typeof navigator.language&&navigator.language.length>1?this._lang=navigator.language.toLowerCase().substr(0,2):this._lang="en",this._autoTranslate="boolean"!=typeof i||i,this._autoTranslate){let e=document.body,t={attributes:!0,childList:!0,subtree:!0};new MutationObserver(function(e,t){for(let t of e)"childList"===t.type?translatePage():"attributes"===t.type&&translatePage()}).observe(e,t)}}get lang(){return this._lang}set lang(e){"string"==typeof e&&(this._lang=e,this.translatePage())}translatePage(){if("en"===this._lang)return;Object.keys(v[this._lang]).filter(e=>e in v[this._lang]&&e in v.en&&v[this._lang][e].length>0&&v.en[e].length>0).forEach(e=>{let t=new RegExp(v.en[e],"ig"),i=v[this._lang][e],s=new RegExp(v[this._lang][e],"ig"),r=v.en[e];this._langContainers.forEach(e=>{let t=this;$(e).each(function(){t.traverseChildNodes(this,s,r)})}),this._langContainers.forEach(e=>{let s=this;$(e).each(function(){s.traverseChildNodes(this,t,i)})})})}traverseChildNodes(e,t,i){var s;if(1===e.nodeType){if(e=e.firstChild)do{s=e.nextSibling,this.traverseChildNodes(e,t,i)}while(e=s)}else 3===e.nodeType&&(e.data=e.data.replace(t,i))}}const k="To continue, click add to Chrome. And then click add extension",S="../assets/audio/to_continue_click_add.mp3";class T{constructor(e){this._voiceName=void 0,this._voiceID=void 0,this._msg=new SpeechSynthesisUtterance,this._spoken=!1,this._audioElement=document.createElement("audio"),this._eventsManager=e,this.updateVoice()}updateVoice(){let e=setInterval(()=>{let t=speechSynthesis.getVoices();0!==t.length&&(void 0===this._voiceID&&void 0!==this._voiceName&&t.forEach((e,t)=>{e.name.includes(this._voiceName)&&(this._voiceID=t)}),void 0===this._voiceID&&(this._voiceID=0),this._msg.voice=t[this._voiceID],this._msg.rate=1,this._msg.pitch=1,clearInterval(e))},100)}register(){this._eventsManager.addListener({onClick:()=>{this.speak()}})}speak(e){if((void 0===e||!e.length>0)&&(e="MP3"===this.voiceType?S:k),this._msg.text=e,!this._spoken){setTimeout(()=>{"MP3"===this.voiceType?this.speakMP3():this.speakTTS(),this._spoken=!0,addListener({onLpReady:()=>{this._spoken=!1,this.stop()}})},3e3)}}speakMP3(){this._audioElement.setAttribute("src",this._msg.text),this._audioElement.play()}speakTTS(){speechSynthesis.speak(this._msg)}stop(){"MP3"===this.voiceType&&(this._audioElement.pause(),this._audioElement.currentTime=0)}get text(){return this._text}set text(e){"string"==typeof e&&(this._text=e)}get voiceType(){return"MP3_FILE"===this._voiceName?"MP3":"TTS"}set voiceName(e){"string"==typeof e&&(this._voiceID=void 0,this._voiceName=e,this.updateVoice())}}class F{constructor(){this.addListener=this.addListener.bind(this),this.removeListener=this.removeListener.bind(this),this.trigger=this.trigger.bind(this),this._listeners=[]}addListener(e){return this._listeners.push(e)-1}removeListener(e){this._listeners.splice(e,1)}trigger(e){this._listeners.forEach(t=>{t.hasOwnProperty(e)&&t[e]()})}}const I={PAGELOAD:"pageload",CLICK:"click",CANCEL:"cancel",INSTALL:"install",RETRY_LOAD:"retryLoad",RETRY_CLICK:"retryClick",RETRY_DISMISS:"retryDismiss",RETRY_CANCEL:"retryCancel",EXIT_LOAD:"exitLoad",EXIT_CLICK:"exitClick",EXIT_DISMISS:"exitDismiss",JS_ERROR:"js_error"},E={TESTS:"//appping-140507.appspot.com/witests_stats/add?",MONITOR:"//dmdata-198011.appspot.com/wam.php?",PIXELS:"/wim/reports/pxls.php",ERROR:"//dmdata-198011.appspot.com/tests.php?"};class A{constructor(e,t,i,s){if("object"!=typeof e||"object"!=typeof t||"object"!=typeof i||"object"!=typeof s)throw new Error("Reporter: missing or bad constructor params");this.report=this.report.bind(this),this.firePixel=this.firePixel.bind(this),this.fireTestPixel=this.fireTestPixel.bind(this),this.fireErrorPixel=this.fireErrorPixel.bind(this),this.fireMonitorPixel=this.fireMonitorPixel.bind(this),this.fireGA=this.fireGA.bind(this),this.loadGA=this.loadGA.bind(this),this.init=this.init.bind(this),this.updateTest=this.updateTest.bind(this),this.loadGA(i.ga),this._step="0",this._extFullDomain=e.extFullDomain,this._gaData={title:{lp:t.lp,vertical:t.vertical,step:this._step,ctag:t.ctag,yid:e.yid,id:e.extId},page:{cid:t.cid},clickid:t.clickid},this._testData=null,t.test&&(this._testData={test_id:t.test.id,user_group:t.test.group,cid:t.cid,click_id:t.clickid,y_letters:e.yid,vertical:t.vertical,x1:t.lp,step:this._step}),this._pixelData={clickid:t.clickid,vertical:t.vertical,cid:t.fullCid,yid:e.yid},this._monitorData=null,i.isMonitored&&(this._monitorData={user_group:t.ctag,cid:t.cid,click_id:t.clickid,y_letters:e.yid,vertical:t.vertical,lp:t.lp,ext_type:e.extType,lang:s.lang,res:`${s.resolution.width}X${s.resolution.height}`}),this._errorData=null}init(e,t){if(void 0===e)throw new Error("Reporter: missing product object");void 0===t&&(t="0"),this._step=t,this._extFullDomain=e.extFullDomain,this._testData?(this._testData.step=t,this._testData.y_letters=e.yid,this.testUrl=`${E.TESTS}${$.param(this._testData)}`):this.testUrl=null,this._monitorData?(this._monitorData.y_letters=e.yid,this._monitorData.ext_type=e.extType,this.monitorUrl=`${E.MONITOR}${$.param(this._monitorData)}`):this.monitorUrl=null,this._errorData?this.errorUrl=`${E.ERROR}${$.param(this._errorData)}`:this.errorUrl=null,this._pixelData&&(this._pixelData.yid=e.yid),this._gaData&&this._gaData.title&&(this._gaData.title.yid=e.yid,this._gaData.title.step=t,this._gaData.title.id=e.extId)}updateTest(e,t){e.test&&(this._testData={test_id:e.test.id,user_group:e.test.group,cid:e.cid,click_id:e.clickid,y_letters:t.yid,vertical:e.vertical,x1:e.lp,step:this._step},this.testUrl=`${E.TESTS}${$.param(this._testData)}`)}report(e,t){switch(e){case I.PAGELOAD:this.fireGA(`wi_client_load_${this._step}`,t),this.fireTestPixel("pageload"),this.fireMonitorPixel(e);break;case I.CLICK:this.fireGA(`wi_click_${this._step}`,t),this.fireTestPixel("clickinstall");break;case I.CANCEL:this.fireGA(`wi_cancel_${this._step}`,t),this.fireTestPixel("cancelinstall");break;case I.INSTALL:this.fireGA(`wi_install_${this._step}`,t),this.fireTestPixel("installed"),this.firePixel(),this.fireMonitorPixel(e);break;case I.RETRY_CANCEL:case I.RETRY_CLICK:case I.RETRY_DISMISS:case I.RETRY_LOAD:case I.EXIT_CLICK:case I.EXIT_DISMISS:case I.EXIT_LOAD:this.fireGA(e,t);break;case I.JS_ERROR:t&&t.err&&t.msg&&t.line&&this.fireErrorPixel(t.err,t.msg,t.line);break;default:this.fireTestPixel(e)}}firePixel(){$.ajax({url:`//${this._extFullDomain}${E.PIXELS}`,crossDomain:!0,type:"post",timeout:2e3,data:this._pixelData,success:function(){console.log("success")},error:function(e,t,i){console.log(t,i)},complete:function(){console.log("completed")}})}fireTestPixel(e){if("string"==typeof this.testUrl){if("pageload"===e&&400==this._testData.test_id)return;let t=`<img height='1' width='1' src='${this.testUrl}&action=${e}'/>`,i=(new DOMParser).parseFromString(t,"text/html");document.body.append(i.body.firstChild)}}fireErrorPixel(e,t,i){if("string"==typeof this.errorUrl){let s=`<img height='1' width='1' src='${this.errorUrl}&msg=${t}&x2=${e}&x3=${i}'/>`,r=(new DOMParser).parseFromString(s,"text/html");document.body.append(r.body.firstChild)}}fireMonitorPixel(e){if("string"==typeof this.monitorUrl){let t=`<img height='1' width='1' src='${this.monitorUrl}&action=${e}'/>`,i=(new DOMParser).parseFromString(t,"text/html");document.body.append(i.body.firstChild)}}static fireAnyPixel(e){if("string"==typeof e){let t=`<img height='1' width='1' src='${e}'/>`,i=(new DOMParser).parseFromString(t,"text/html");document.body.append(i.body.firstChild)}}fireGA(e,t){if("object"!=typeof this._gaData||"object"!=typeof this._gaData.page||"object"!=typeof this._gaData.title)return;let i=`/?${$.param(this._gaData.page)}&action=${e}`,s=`/?${$.param(this._gaData.title)}`;if(t&&"object"==typeof t)for(let e in t)t.hasOwnProperty(e)&&(i+=`&${e}=${t[e]}`);ga("send",{hitType:"pageview",title:s,page:i})}loadGA(e){void 0!==e&&null!==e||(e="UA-104486194-",e+=s.getRandomInt(1,50)),function(e,t,i,s,r,n,o){e.GoogleAnalyticsObject=r,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,n=t.createElement(i),o=t.getElementsByTagName(i)[0],n.async=1,n.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(n,o)}(window,document,"script",0,"ga"),ga("create",e,"auto")}static get Actions(){return I}static get Urls(){return E}get getTestUrl(){return this.testUrl}}const R=new class{constructor(){this.customizeFunnelForChrome=this.customizeFunnelForChrome.bind(this),this.customizeFunnelForFF=this.customizeFunnelForFF.bind(this),this.checkStepInstalled=this.checkStepInstalled.bind(this),this.init=this.init.bind(this),this.isDone=this.isDone.bind(this),this.finish=this.finish.bind(this),this.updateTexts=this.updateTexts.bind(this),this.getReportUrl=this.getReportUrl.bind(this);const e=s.getQueryParameters();this._isQA="ibario"===e.qa||!1,this._defLang=e.lang||"auto";try{if(this._eventsManager=new F,this._extras=new b(e),this._request=new _(e,this._isQA),this._funnel=new r(e,this._isQA),this._package=new f(this.request.browser.browserName,this.request.os,this.funnel.vertical),this._translation=new x(null,this._defLang),this._audio=new T(this._eventsManager),this._components=new a(this.request.browser.browserName,this.funnel.vertical),!this.request.isSupported)throw new Error("browser is not supported");"Firefox"===this.request.browser.browserName?this.customizeFunnelForFF():"Chrome"===this.request.browser.browserName&&this.customizeFunnelForChrome(),this._package.build(this.funnel.vertical,this._isQA),this._reporter=new A(this.product,this.funnel,this.extras,this.request)}catch(e){console.log(e)}}checkStepInstalled(){this.product.checkIfInstalled().then(()=>{this.product.isInstalled&&(this.isDone()?this.finish():(this.updateTexts(),"0"!==this.components.stepsBarFolder&&setTimeout(()=>{window.updateSteps()},500),this.checkStepInstalled()))})}init(e){if(this._package){void 0===e&&(e=180);let t="ifr";null!==this.funnel.test&&"tid418img"===this.funnel.test.group&&(t="img"),s.writeCookies(this.funnel,this.product,this.components,this.extras,e,null,t);let i=`../lps/${this.components.lpFolder}/${this.funnel.lp}`;if(a.addComponent(i,"index.html",null,e=>{e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/@PATH@/g,i)).replace(/@EXT_NAME@/g,`<span class="ph_name">${this.product.extName}</span>`)).replace(/@BRAND@/g,`<span class="ph_brand">${this.product.brand}</span>`)).replace(/@PRIVACY@/g,this.product.privacy)).replace(/@TERMS@/g,this.product.terms)).replace(/@BROWSER@/g,this.request.browser.browserName)).replace(/@PLATFORM@/g,this.request.os)).replace(/@STEP@/g,`<span class="ph_step">${this.package.step+1}</span>`)).replace(/@STEPS@/g,`<span class="ph_steps">${this.package.products.length}</span>`)).replace(/@DKW@/g,`<span class="ph_dkw">${this.extras.dkw}</span>`),$("#lp-container").append(e),setTimeout(()=>{$("body").css("visibility","visible")},500)}),"0"!==this.components.retry.folder&&a.addComponent(`../components/retry/${this.components.retry.folder}`,`index${this.components.retry.gnumDependent?this.funnel.gnum:""}.html`,"#retry-container"),"0"!==this.components.exitFolder&&a.addComponent(`../components/exit/${this.components.exitFolder}`,`index${this.components.gnum}.html`,"#exit-container"),"0"!==this.components.stepsBarFolder&&a.addComponent(`../components/stepsbar/${this.components.stepsBarFolder}`,"index.html","#stepsbar-container"),"0"!==this.components.stepsSpinnerFolder&&a.addComponent(`../components/stepsspinner/${this.components.stepsSpinnerFolder}`,"index.html"),"0"!==this.components.tyFolder&&a.addComponent(`../components/ty/${this.components.tyFolder}`,"index.html","#ty-container"),"0"!==this.components.infoFolder){let e=`../components/info/${this.components.infoFolder}`;a.addComponent(e,"index.html",null,t=>{t=(t=(t=(t=t.replace(/@PATH@/g,e)).replace(/@VERTICAL@/g,`<span class="ph_vertical">${this.product.vertical}</span>`)).replace(/@BRAND@/g,`<span class="ph_brand">${this.product.brand}</span>`)).replace(/@REPORT@/g,this.getReportUrl()),$("#info-container").append(t)})}"0"!==this.components.buttonEffectFolder&&setTimeout(()=>{a.addComponent(`../components/button-effects/${this.components.buttonEffectFolder}`,"index.html")},3e3),"0"!==this.components.flow.folder&&a.addComponent(`../components/flows/${this.components.flow.folder}`,"flow.js","#flows-container"),null!==this.components.translation&&this.components.translation.translate(),this.checkStepInstalled(),window.document.title=this.product.title}}customizeFunnelForChrome(){switch(this.funnel.vertical){case r.Gnums.MUSIC:(this.funnel.lp.includes("55")||this.funnel.lp.includes("59")||this.funnel.lp.includes("60"))&&(this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,this.components.stepsBarFolder=a.StepBars.NONE),"en"===this.translation.lang&&(this.audio.voiceName="MP3_FILE",this.audio.register()),"1"===s.getParameterByName("loadFromClientWI","0")&&(this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,"1"===s.getParameterByName("isIF","0")?(this.funnel.lp="0.1",this.components.tyFolder=a.TyFolders.IFRAME_CLOSER,"1"===s.getParameterByName("rednow","0")?this.funnel.addTag("tid413ir"):this.funnel.addTag("tid413i")):"1"===s.getParameterByName("isP","0")&&(this.funnel.addTag("tid413p"),this.funnel.lp="0",this.components.tyFolder=a.TyFolders.POPUP_CLOSER));break;case r.Gnums.MOVIES:(this.funnel.lp.includes("34")||this.funnel.lp.includes("55"))&&(this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,this.components.stepsBarFolder=a.StepBars.NONE),"en"===this.translation.lang&&(this.audio.voiceName="MP3_FILE",this.audio.register()),"249923673"===this.funnel.ctag?this.funnel.addTag("tid420mn"):"i_249923673"===this.funnel.ctag?(this.components.tyFolder="1",this.funnel.lp="34.0",this.components.stepsBarFolder=a.StepBars.NONE,this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,this.funnel.addTag("tid420mi")):this.extras.t1<10&&"ChromeOS"!==this.request.os&&"Linux"!==this.request.os&&(this.package.extTypes=["altds","nt"]);break;case r.Gnums.GAMES:(this.funnel.lp.includes("55")||this.funnel.lp.includes("58")||this.funnel.lp.includes("59")||this.funnel.lp.includes("60")||this.funnel.lp.includes("61"))&&(this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,this.components.stepsBarFolder=a.StepBars.NONE),"en"===this.translation.lang&&(this.audio.voiceName="MP3_FILE",this.audio.register()),"155329754"===this.funnel.ctag?this.funnel.addTag("tid420gn"):"i_155329754"===this.funnel.ctag&&(this.components.tyFolder="1",this.funnel.lp="57.0",this.components.stepsBarFolder=a.StepBars.NONE,this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,this.funnel.addTag("tid420gi"));break;case r.Gnums.PRIVATE:this.components.stepsBarFolder=a.StepBars.NONE,(this.funnel.lp.includes("5")||this.funnel.lp.includes("28"))&&(this.components.flow=a.Flows.INSTALLER_V1),this.audio.voiceName="MP3_FILE",this.audio.register(),null!==this.extras.aln&&(this.package.extTypes=["dm"],this.components.stepsBarFolder=a.StepBars.NONE,this.components.flow=a.Flows.TOP_PANEL_V1,this.components.retry=a.Retries.LOBIBOX,this.funnel.lp="23",this.funnel.addTag(this.extras.aln));break;case r.Gnums.TVSPORT:this.funnel.lp.includes("53")&&(this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,this.components.stepsBarFolder=a.StepBars.NONE),"en"===this.translation.lang&&(this.audio.voiceName="MP3_FILE",this.audio.register()),"154342913"===this.funnel.ctag?this.funnel.addTag("tid420sn"):"i_154342913"===this.funnel.ctag&&(this.components.tyFolder="1",this.funnel.lp="53.0",this.components.stepsBarFolder=a.StepBars.NONE,this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,this.funnel.addTag("tid420si"))}}customizeFunnelForFF(){switch(this.funnel.vertical){case r.Gnums.MUSIC:this.components.stepsSpinnerFolder="1",this.funnel.lp.includes("55")||(this.components.stepsBarFolder=a.StepBars.TOP_BAR),(this.funnel.lp.includes("34")||this.funnel.lp.includes("55")||this.funnel.lp.includes("59")||this.funnel.lp.includes("60"))&&(this.components.flow=a.Flows.WIZARD_V3_TRANSPARENT_SMALLER,this.components.stepsBarFolder=a.StepBars.NONE);break;case r.Gnums.MOVIES:this.components.stepsSpinnerFolder="1",this.funnel.lp.includes("34")||this.funnel.lp.includes("55")||(this.components.stepsBarFolder=a.StepBars.TOP_BAR);break;case r.Gnums.GAMES:case r.Gnums.PRIVATE:break;case r.Gnums.TVSPORT:this.components.stepsSpinnerFolder="1",this.funnel.lp.includes("53")||(this.components.stepsBarFolder=a.StepBars.TOP_BAR)}}updateTexts(){if(this.product&&this._package){$(".ph_name").html(this.product.extName),$(".ph_brand").html(this.product.brand),$(".ph_vertical").html(this.product.vertical),$(".ph_step").html(this.package.step+1),$(".ph_steps").html(this.package.products.length),$(".ph_terms").attr("href",`//${this.product.terms}`),$(".ph_privacy").attr("href",`//${this.product.privacy}`),$(".ph_report").attr("href",`//${this.getReportUrl()}`),window.document.title=this.product.title;let e="ifr";null!==this.funnel.test&&"tid418img"===this.funnel.test.group&&(e="img"),s.writeCookies(this.funnel,this.product,this.components,this.extras,180,null,e),trigger("onUpdateTexts")}}updateLP(){let e=`../lps/${this.components.lpFolder}/${this.funnel.lp}`;a.addComponent(e,"index.html",null,t=>{t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/@PATH@/g,e)).replace(/@EXT_NAME@/g,`<span class="ph_name">${this.product.extName}</span>`)).replace(/@BRAND@/g,`<span class="ph_brand">${this.product.brand}</span>`)).replace(/@PRIVACY@/g,this.product.privacy)).replace(/@TERMS@/g,this.product.terms)).replace(/@BROWSER@/g,this.request.browser.browserName)).replace(/@PLATFORM@/g,this.request.os)).replace(/@STEP@/g,`<span class="ph_step">${this.package.step+1}</span>`)).replace(/@STEPS@/g,`<span class="ph_steps">${this.package.products.length}</span>`)).replace(/@DKW@/g,`<span class="ph_dkw">${this.extras.dkw}</span>`),$("#lp-container").html(t)})}isDone(){if(this.package){let e=this.package.step>=this.package.products.length-1;return e||(null!==this.funnel.test&&["tid374ds3","tid374ds4"].includes(this.funnel.test.group)&&null!==this.package.alternateDS?(++this._package.step,this.package.currentProduct=this.package.alternateDS):this.product.isInstalled||null===this.package.alternateDS?++this._package.step:(++this._package.step,this.package.currentProduct=this.package.alternateDS)),e}return!0}getReportUrl(){return this.package?`survey.zohopublic.com/zs/TEB0kG?vertical=${this.product.vertical}&cid=${this.funnel.cid}&clickid=${this.funnel.clickid}&id=${this.product.extId}&product=${this.product.extName}&lp=${this.funnel.lp}`:"www.iwanttoberecycled.org/"}finish(){if(this.package){let e=this.package.tyUrl;void 0===e&&(e=`//${this.product.extFullDomain}/wim/ty/index.php`);let t=this.extras.dkw;if("string"==typeof t&&t.length>0&&!/\d/.test(t)&&(e=`https://www.google.com/search?btnI=745&q=${t.split(".")[0]}`),e.includes("gsafe")&&this.funnel.gnum!==r.Gnums.SAFE&&(e=e.replace("gsafe",this.product.vertical)),trigger("onFinished"),"0"===this.components.tyFolder)window.location.href=e;else{incStep(),updateSteps();let t='<iframe id="ty-container-iframe" src="'+e+'" frameborder="0" allowtransparency="true" style="position: absolute; width: 0px; height: 0px; z-index: 0;"></iframe>';$("#lp-container").hide(),$("#flows-container").hide(),$("#ty-container").append(t),$("#ty-container").show()}}else window.location.href="http://www.iwanttoberecycled.org/"}get package(){return this._package}get isQA(){return this._isQA}get extras(){return this._extras}get funnel(){return this._funnel}get translation(){return this._translation}get audio(){return this._audio}get request(){return this._request}get components(){return this._components}get product(){return this._package.currentProduct}get eventsManager(){return this._eventsManager}get reporter(){return this._reporter}};window.registerInstallBtn=!0,$(()=>{screen.width-window.outerWidth>0&&$("body").addClass("notmaximized"),R.init(),R.reporter.init(R.product,R.package.step)}),window.setLang=(e=>{R.translation.lang=e}),window.translatePage=(()=>{R.translation.translatePage()}),window.addListener=(e=>R.eventsManager.addListener(e)),window.removeListener=(e=>{R.eventsManager.removeListener(e)}),window.trigger=(e=>{R.eventsManager.trigger(e)}),window.onLpReady=(()=>{R.eventsManager.trigger("onLpReady"),R.reporter.report(A.Actions.PAGELOAD)}),window.onClick=(()=>{R.eventsManager.trigger("onClick"),R.reporter.report(A.Actions.CLICK),showHelp(R.product.extId,R.request.lang,R.product.chromeStoreUrl)}),window.getStepsObject=(()=>({currentStep:R.package.step,totalSteps:R.package.products.length})),window.getGoogleTranslateParams=(()=>({autoDetect:!1,pageLanguage:"en",includedLanguages:"fr"})),window.getTestUrl=(()=>R.reporter.getTestUrl),window.report=(e=>{R.reporter.report(e)}),window.incStep=(()=>{R.package.step++}),window.getProduct=(()=>R.product),window.onExitComponentResult=(e=>{"click"===e?(onClick(),R.reporter.report(A.Actions.EXIT_CLICK,{ctag:R.funnel.ctag})):"dismiss"===e?R.reporter.report(A.Actions.EXIT_DISMISS,{ctag:R.funnel.ctag}):"load"===e&&R.reporter.report(A.Actions.EXIT_LOAD,{ctag:R.funnel.ctag})}),window.onRetryComponentResult=(e=>{"cancel"===e?($(".retry-container").removeClass("isActive"),R.reporter.report(A.Actions.RETRY_CANCEL,{ctag:R.funnel.ctag}),onCancel()):"retry"===e?(onClick(),R.reporter.report(A.Actions.RETRY_CLICK,{ctag:R.funnel.ctag})):"dismiss"===e?R.reporter.report(A.Actions.RETRY_DISMISS,{ctag:R.funnel.ctag}):"load"===e&&R.reporter.report(A.Actions.RETRY_LOAD,{ctag:R.funnel.ctag})}),window.onCancel=(e=>{let t=1;"string"==typeof e&&(R.reporter.report(e),t=500),R.isDone()?setTimeout(function(){R.finish()},t):(R.checkStepInstalled(),"0"!==R.components.stepsSpinnerFolder&&showStepsSpinner(),setTimeout(()=>{R.reporter.init(R.product,R.package.step),R.updateTexts(),onLpReady(),"0"!==R.components.stepsBarFolder&&window.updateSteps()},2e3))}),window.onWinBlur=((e,t)=>{R.components.flow.isInPage&&(R.product.isInstalled?(onFlowResult(!0),onInstalled()):R.product.checkIfInstalled().then(function(e){onFlowResult(e),e&&onInstalled()}))});let P=!1;window.onInstalled=(()=>{if($(".retry-container").removeClass("isActive"),!P)if(P=!0,R.reporter.report(A.Actions.INSTALL),R.isDone())setTimeout(R.finish,1e3);else{R.checkStepInstalled();let e=10;"0"!==R.components.stepsSpinnerFolder&&(showStepsSpinner(),e=2e3),setTimeout(()=>{onFlowResult(!0),R.reporter.init(R.product,R.package.step),P=!1,R.updateTexts(),onLpReady(),"0"!==R.components.stepsBarFolder&&window.updateSteps()},e)}}),window.checkIfInstalled=(e=>{R.product?R.product.checkIfInstalled().then(t=>{t&&(onFlowResult(!0),clearInterval(e),onInstalled())}):clearInterval(e)}),window.checkIfDone=(()=>{return R.package.step>=R.package.products.length}),window.getLP=(()=>R.funnel.lp),window.getOS=(()=>R.request.os),window.calcPopupWinSizeAndPos=(()=>{let e=document.getElementById("chromeStorePlaceHolder").getBoundingClientRect(),t={Mac:-50,Windows:-60},i={Mac:0,Windows:-7},s=void 0!==t[getOS()]?t[getOS()]:0,r=void 0!==i[getOS()]?i[getOS()]:0;return{width:e.width,height:Math.min(e.height+s+window.screen.availTop,window.innerHeight),left:window.screenX+e.left+r,top:window.screenY+e.top+(window.outerHeight-window.innerHeight)}}),window.openPopupWindow=(e=>{setTimeout(()=>{R.reporter.report("showHelp")},1);let t=e.url,i=e.top||0,s=e.left||0,r=e.width||400,n=e.height||300,o=e.location||"no",a=e.titleBar||"no",l=e.toolbar||"no",c=e.scrollbars||"no",p=e.resizable||"no",d=e.redirectUrl||null;if(document.body.classList.contains("notmaximized")&&(s+=5,i-=8),t){const e="location="+o+",titlebar="+a+",toolbar="+l+",scrollbars="+c+",resizable="+p+",screenY="+i+",screenX="+s+",width="+r+",height="+n;window.myWindow=window.open(t,t,e),d&&setTimeout(()=>{window.location.href=d},1e3)}else alert("no url")}),window.isInstalled=R.product.isInstalled;let N="";window.onerror=function(e,t,i,s,r){if(N===e)return!0;N=e;return r?"\nerror: "+r:"",void 0!==R.reporter&&R.reporter.hasOwnProperty("report")&&R.reporter.report(A.Actions.JS_ERROR,{msg:e,err:r,line:`${i}:${s}`}),!0}}]);